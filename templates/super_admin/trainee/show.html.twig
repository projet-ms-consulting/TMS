{% extends 'super_admin.html.twig' %}

{% block title %}Détails d'un stagiaire{% endblock %}

{% block body %}
    <h1>Profil du stagiaire {{ personne.firstName }} {{ personne.lastName | upper}}</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Nom : </th>
                <td>{{ personne.lastName }}</td>
            </tr>
            <tr>
                <th>Prénom : </th>
                <td>{{ personne.firstName }}</td>
            </tr>
            <tr>
                <th>Email de contact : </th>
                <td>{{ personne.mailContact }}</td>
            </tr>
            <tr>
                <th>Date de début de stage : </th>
                <td>{{ personne.startInternship ? personne.startInternship|date('d/m/Y') : '' }}</td>
            </tr>
            <tr>
                <th>Date de fin de stage</th>
                <td>{{ personne.endInternship ? personne.endInternship|date('d/m/Y') : '' }}</td>
            </tr>
            <tr>
                <th>Entreprise : </th>
                <td><a href="{{ path('super_admin_app_company_show', {'id': personne.company.id}) }}">{{ personne.company.name }}</a></td>
            </tr>
            <tr>
                <th>Chef d'entreprise : </th>
                <td><a href="{{ path('super_admin_app_person_show',{'id':personne.manager.id}) }}">{{ personne.manager.fullName }}</a></td>
            </tr>
            <tr>
                <th> Référent entreprise : </th>
                <td><a href="{{ path('super_admin_app_person_show',{'id':personne.companyReferent.id}) }}">{{ personne.companyReferent.fullName }}</a></td>
            </tr>
            <tr>
                <th>Maître de stage : </th>
                <td><a href="{{ path('super_admin_app_person_show',{'id':personne.internshipSupervisor.id}) }}">{{ personne.internshipSupervisor.fullName}}</a></td>
            </tr>
            <tr>
                <th>Ecole : </th>
                <td><a href="{{ path('super_admin_app_school_show',{'id':personne.school.id}) }}">{{ personne.school.name }}</a></td>
            </tr>
            <tr>
                <th>Référent école : </th>
                <td><a href="{{ path('super_admin_app_school_employee_show',{'id':personne.schoolSupervisor.id}) }}">{{ personne.schoolSupervisor.fullName }}</a></td>
            </tr>
            <tr>
                <th>Documents : </th>
                {% if personne.files is empty %}
                    <td>Pas de document</td>
                {% else %}
                    <td>
                        {% for file in personne.files %}
                            <a href="{{ path('super_admin_app_person_show_file', {id: file.id}) }}" target="_blank">{{ file.label }}</a>
                        {% endfor %}
                    </td>
                {% endif %}
            </tr>
        </tbody>
    </table>
    <div class="center-btn-container">
        <a href="{{ path('super_admin_app_trainee_index') }}" class="btn btn-primary back-btn">Retour</a>
        <a href="{{ path('super_admin_app_trainee_edit', {'id': personne.id}) }}" class="btn btn-primary back-btn">Modifier</a>
    </div>
    {{ include('super_admin/trainee/_delete_form.html.twig') }}
{% endblock %}
